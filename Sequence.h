/*
 * StructDefine.h
 *
 *  Created on: 2021. 4. 16.
 *      Author: poweryhs
 */
#include "Define.h"

#ifndef SEQUENCE_H_
#define SEQUENCE_H_

typedef enum {
    STAT_INHIBIT_STATE = 0
    , STAT_FAULT_STATE = 1
    , STAT_NORMAL_STATE = 2
}INTERNAL_STATE;

typedef enum {
    STAT_PFC_STATE = 0
    , STAT_V2G_STATE = 1
    , STAT_V2L_STATE = 2
}MODE_STATE;

enum INTERNAL_FAULT_STATE {
    STAT_VCB_FLT = 0x0001
    , STAT_RLY_FLT = 0x0002
    , STAT_PFC_FLT = 0x0004
    , STAT_RESERVED_FLT1 = 0x0008
    , STAT_RESERVED_FLT2 = 0x0010
    , STAT_RESERVED_FLT3 = 0x0020
    , STAT_RESERVED_FLT4 = 0x0040
    , STAT_RESERVED_FLT5 = 0x0080
    , STAT_RESERVED_FLT6 = 0x0100
    , STAT_RESERVED_FLT7 = 0x0200
    , STAT_RESERVED_FLT8 = 0x0400
    , STAT_RESERVED_FLT9 = 0x0800
    , STAT_RESERVED_FLT10 = 0x1000
    , STAT_RESERVED_FLT11 = 0x1000
    , STAT_RESERVED_FLT12 = 0x2000
    , STAT_RESERVED_FLT13 = 0x4000
    , STAT_RESERVED_FLT14 = 0x8000
};

enum INTERNAL_FAULT_SUBSTATE {
    STAT_VCB_OV_FLT = 0x0001//1
    , STAT_VCB_UV_FLT = 0x0002//2
    , STAT_PFCRLY_FLT = 0x0004//4
    , STAT_DCDCRLY_FLT = 0x0008//8
    , STAT_GRIDOV_FLT = 0x0010//16/
    , STAT_GRIDUV_FLT = 0x0020//32
    , STAT_PFCOUTOV_FLT = 0x0040//64
    , STAT_PFCOUTUV_FLT = 0x0080//128
    , STAT_PFCPHASEAOC_FLT = 0x0100//256/
    , STAT_PFCPHASEBOC_FLT = 0x0200//512/
    , STAT_SoftStart_FLT = 0x0400//1024
    , STAT_TEMP_FLT = 0x0800
    , STAT_RESERVED_FLTSUB1 = 0x1000
    , STAT_RESERVED_FLTSUB2 = 0x2000
    , STAT_RESERVED_FLTSUB3 = 0x4000
    , STAT_RESERVED_FLTSUB4 = 0x8000
};


enum INTERNAL_INHIBIT_STATE {
    STAT_INHIBIT = 0x0001
    , STAT_VIN_UV = 0x0002
    , STAT_VOUT_UV = 0x0004
    , STAT_ADC_OFFSET_CHEKK = 0x0008
    , STAT_ADC_STABILITY_CHECK = 0x0010
    , STAT_GRIDPLL_CHECK = 0x0020
    , STAT_RESERVED_INHIBIT6 = 0x0040
    , STAT_RESERVED_INHIBIT7 = 0x0080
    , STAT_RESERVED_INHIBIT8 = 0x0100
    , STAT_RESERVED_INHIBIT9 = 0x0200
    , STAT_RESERVED_INHIBIT10 = 0x0400
    , STAT_RESERVED_INHIBIT11 = 0x0800
    , STAT_RESERVED_INHIBIT12 = 0x1000
    , STAT_RESERVED_INHIBIT13 = 0x1000
    , STAT_RESERVED_INHIBIT14 = 0x2000
    , STAT_RESERVED_INHIBIT15 = 0x4000
    , STAT_RESERVED_INHIBIT16 = 0x8000
};


enum INTERNAL_NORMAL_STATE {
    STAT_PRECHARGE = 0x0001
    , STAT_PFCRLY = 0x0002
    , STAT_PFCRLYON = 0x0004
    , STAT_PFCSOFTSTART = 0x0008
    , STAT_PFCNORMAL = 0x0010
    , STAT_RESERVED1 = 0x0020
    , STAT_RESERVED2 = 0x0040
    , STAT_RESERVED3 = 0x0080
    , STAT_RESERVED4 = 0x0100
    , STAT_RESERVED5 = 0x0200
    , STAT_RESERVED6 = 0x0400
    , STAT_RESERVED7 = 0x0800
    , STAT_RESERVED8 = 0x1000
    , STAT_RESERVED9 = 0x1000
    , STAT_RESERVED10 = 0x2000
    , STAT_RESERVED11 = 0x4000
    , STAT_RESERVED12 = 0x8000
};



extern INTERNAL_STATE INT_MAIN_STATE;
extern MODE_STATE INT_MODE_STATE;
extern Uint16 INT_FLT_STATE;
extern Uint16 INT_FLTSUB_STATE;
extern Uint16 INT_INHIBIT_STATE;
extern Uint16 INT_NORMAL_STATE;
extern Uint16 INT_SUB_STATE;
extern Uint16 giFlag_Run;
extern Uint16 giTEST_Mode;
extern Uint16 giVgridUVInhibitFlag;

extern void ChkMainState();
extern Uint16 ChkFltState();
extern Uint16 ChkFltSubState();
extern Uint16 ChkInhibitState();
extern void ChkNormalState();
extern Uint16 ChkRlyState();




#endif
